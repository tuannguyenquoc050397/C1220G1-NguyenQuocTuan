<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
function nameCustomer() {
    let UPPER = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ ';
    let LOWER = 'abcdefghijklmnopqrstuvwxyz ';
    let name;
    let check = false;
    do {
        name = prompt("nhap ten cua ban");
        let a = name.length;
        for (let i = 0; i < a; i++) {
            let kyTu = name.charAt(i);
            let b = UPPER.indexOf(kyTu);
            let c = LOWER.indexOf(kyTu);
            if (b == -1 && c == -1) {
                check = false;
                break
            } else {
                check = true;
            }
        }
        if (name.charAt(0) == " " || name.charAt(a - 1) == " ") {
            check = false;
        }

    } while (!check);
    let index=LOWER.indexOf(name.charAt(0));
    if (index!=-1){
        let  vietHoaChuDau=name.charAt(0).toUpperCase();
        let xoaChuDau=name.slice(1);
        name=vietHoaChuDau+xoaChuDau;
    };
    let arrName=[];
    for(let i=0;i<name.length;i++){
        arrName[i]=name.charAt(i);
    }
    let viTriKyTuInHoa=0;
    let a=arrName.length;
    for (let i=1;i<a;i++){
        if(arrName[i]==" " && arrName[i+1]==" "){
            arrName.splice(i,1);
            i--;
        }else if(arrName[i]==" " && arrName[i+1]!=" "){
            arrName[i+1]=arrName[i+1].toUpperCase();
        }
    }
    a=arrName.length;
    let bienDem=0;
    for (let i=0;i<a;i++){
        if (arrName[i]==" "){
            for (let j=i;j>i-bienDem;j--){
                arrName[j]=arrName[j].toLowerCase();
            }
            bienDem=0;
        }else{
            bienDem++;
        }
    }
    for (let i=a;i>0;i--){
        if(arrName[i]==" "){
            for (let j=i+2; j<a;j++){
                arrName[j]=arrName[j].toLowerCase();
            }
            break;
        }
    }
    let strName=arrName.join("");
    alert(strName);
    return strName;
}
</script>
</body>
</html>